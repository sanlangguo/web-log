(()=>{"use strict";function e(){var e=navigator.userAgent;if(!/AppleWebKit.*Mobile/i.test(navigator.userAgent)&&!/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))return e.indexOf("iPad")>-1?"iPhone":"Android";if(window.location.href.indexOf("?mobile")<0)try{return/iPhone|mac|iPod|iPad/i.test(navigator.userAgent)?"iPhone":"Android"}catch(e){}}function t(e){(e=e||{}).type=(e.type||"GET").toUpperCase(),e.dataType=e.dataType||"json";var t=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(e.data);if(window.XMLHttpRequest)var n=new XMLHttpRequest;else n=new ActiveXObject("Microsoft.XMLHTTP");n.onreadystatechange=function(){if(4==n.readyState){var t=n.status;t>=200&&t<300?e.success&&e.success(n.responseText,n.responseXML):e.fail&&e.fail(t)}},"GET"==e.type?(n.open("GET",e.httpUrl+"?"+t,!0),n.send(null)):"POST"==e.type&&(n.open("POST",e.httpUrl,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t))}!function(){if(window.webLog)return window.webLog;var n,o,a,i={ua:window.navigator.userAgent,browser:(o=navigator.userAgent,a=o.indexOf("Opera")>-1,a?"Opera":o.indexOf("Firefox")>-1?"FF":o.indexOf("Chrome")>-1?"Chrome":o.indexOf("Safari")>-1?"Safari":o.indexOf("compatible")>-1&&o.indexOf("MSIE")>-1&&!a?"IE":void 0),os:e(),osVersion:(n=window.navigator.userAgent,n.indexOf("CPU iPhone OS ")>=0?n.substring(n.indexOf("CPU iPhone OS ")+14,n.indexOf(" like Mac OS X")):n.indexOf("Android ")>=0?n.substr(n.indexOf("Android ")+8,3):"other"),pageUrl:window.location.href,env:"dev",msg:"",httpUrl:"",line:"",col:"",error:""};window.WebLog=function(e){if(console.log(e,"---"),!e.token)throw"token does not exist";if(!e.httpUrl)throw"httpUrl does not exist";if(!e.projectname)throw"projectname does not exist";const n={...i,...e};!function(e){window.onerror=function(n,o,a,i){t({url:e.httpUrl,data:{...e,msg:n,source:o,lineno:a,colno:i,type:"onerror"}})}}(n),function(e){window.addEventListener("unhandledrejection",(function(n){console.log(n,"---"),t({url:e.httpUrl,data:{...e,msg:n.reason,type:"promise"}}),n.preventDefault()}))}(n),function(e){window.addEventListener("error",(n=>{const o=n.target;console.info(n,o.tagName,"error"),t({url:e.httpUrl,data:{...e,tagName:o.tagName,count:Number(o.dataset&&o.dataset.count)||0,src:o.currentSrc,type:"resource"}})}),!0)}(n),function(e){if("function"==typeof window.CustomEvent)return!1;function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function n(e){var n=new t(e,{detail:this});window.dispatchEvent(n)}t.prototype=window.Event.prototype,window.CustomEvent=t;var o=window.XMLHttpRequest;window.XMLHttpRequest=function(){var e=new o;e.addEventListener("abort",(function(){n.call(this,"ajaxAbort")}),!1),e.addEventListener("error",(function(){n.call(this,"ajaxError")}),!1),e.addEventListener("load",(function(){n.call(this,"ajaxLoad")}),!1),e.addEventListener("loadstart",(function(){n.call(this,"ajaxLoadStart")}),!1),e.addEventListener("progress",(function(){n.call(this,"ajaxProgress")}),!1),e.addEventListener("timeout",(function(){n.call(this,"ajaxTimeout")}),!1),e.addEventListener("loadend",(function(){n.call(this,"ajaxLoadEnd")}),!1),e.addEventListener("readystatechange",(function(){n.call(this,"ajaxReadyStateChange")}),!1);let t=e.send;e.send=function(...o){t.apply(e,o),e.body=o[0],n.call(e,"ajaxSend")};let a=e.open;e.open=function(...t){a.apply(e,t),e.method=t[0],e.orignUrl=t[1],e.async=t[2],n.call(e,"ajaxOpen")};let i=e.setRequestHeader;return e.requestHeader={},e.setRequestHeader=function(t,n){e.requestHeader[t]=n,i.call(e,t,n)},e},window.addEventListener("ajaxReadyStateChange",(function(e){let t=e.detail;4==t.readyState&&200==t.status&&console.log(t,"ajaxReadyStateChange")}))}()}}()})();