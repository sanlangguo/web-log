(()=>{"use strict";function e(){var e=navigator.userAgent;if(!/AppleWebKit.*Mobile/i.test(navigator.userAgent)&&!/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))return e.indexOf("iPad")>-1?"iPhone":"Android";if(window.location.href.indexOf("?mobile")<0)try{return/iPhone|mac|iPod|iPad/i.test(navigator.userAgent)?"iPhone":"Android"}catch(e){}}function n(e){(e=e||{}).type=(e.type||"GET").toUpperCase(),e.dataType=e.dataType||"json";var n=function(e){var n=[];for(var t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}(e.data);if(window.XMLHttpRequest)var t=new XMLHttpRequest;else t=new ActiveXObject("Microsoft.XMLHTTP");t.onreadystatechange=function(){if(4==t.readyState){var n=t.status;n>=200&&n<300?e.success&&e.success(t.responseText,t.responseXML):e.fail&&e.fail(n)}},"GET"==e.type?(t.open("GET",e.url+"?"+n,!0),t.send(null)):"POST"==e.type&&(t.open("POST",e.url,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n))}!function(){if(window.webLog)return window.webLog;var t,o,r,i={ua:window.navigator.userAgent,browser:(o=navigator.userAgent,r=o.indexOf("Opera")>-1,r?"Opera":o.indexOf("Firefox")>-1?"FF":o.indexOf("Chrome")>-1?"Chrome":o.indexOf("Safari")>-1?"Safari":o.indexOf("compatible")>-1&&o.indexOf("MSIE")>-1&&!r?"IE":void 0),os:e(),osVersion:(t=window.navigator.userAgent,t.indexOf("CPU iPhone OS ")>=0?t.substring(t.indexOf("CPU iPhone OS ")+14,t.indexOf(" like Mac OS X")):t.indexOf("Android ")>=0?t.substr(t.indexOf("Android ")+8,3):"other"),pageUrl:window.location.href,env:"dev",msg:"",httpUrl:"",line:"",col:"",error:""};window.WebLog=function(e){if(console.log(e,"---"),!e.token)throw"token does not exist";if(!e.httpUrl)throw"httpUrl does not exist";if(!e.projectname)throw"projectname does not exist";const t={...i,...e};!function(e){window.onerror=function(t,o,r,i){n({url:e.httpUrl,data:{...e,msg:t,source:o,lineno:r,colno:i,type:"onerror"}})}}(t),function(e){window.addEventListener("unhandledrejection",(function(t){console.log(t,"---"),n({url:e.httpUrl,data:{...e,msg:t.reason,type:"promise"}}),t.preventDefault()}))}(t),function(e){window.addEventListener("error",(t=>{const o=t.target;console.info(t,o.tagName,"error"),n({url:e.httpUrl,data:{...e,tagName:o.tagName,count:Number(o.dataset.count)||0,src:o.currentSrc,type:"resource"}})}),!0)}(t),window.addEventListener("ajaxReadyStateChange",(function(e){console.log(e.detail,"httpError 1")})),window.addEventListener("ajaxAbort",(function(e){console.log(e.detail.responseText,"httpError 2")}))}}()})();